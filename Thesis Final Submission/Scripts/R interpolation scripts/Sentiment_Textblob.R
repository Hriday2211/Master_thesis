# Recreating data in an R dataframe
df <- read.table(text="DATE Sentiment_score
27/01/2023	0.251789659
11/11/2022	0.158084574
20/10/2022	0.172740867
11/10/2022	0.229108077
26/07/2022	0.135035525
20/05/2022	0.184901189
21/04/2022	0.220231553
12/04/2022	0.185829806
14/03/2022	0.165721392
17/02/2022	0.160375316
27/01/2022	0.130384258
12/11/2021	0.159939893
12/10/2021	0.158383797
30/07/2021	0.086602224
26/07/2021	0.083978965
21/05/2021	0.120963669
20/04/2021	0.179657126
13/04/2021	0.205398601
10/03/2021	0.125118369
17/02/2021	0.103248397
26/01/2021	0.062877016
06/11/2020	0.099668221
22/10/2020	0.151165927
15/10/2020	0.11918554
30/07/2020	0.063149429
27/07/2020	0.072965906
15/05/2020	0.131587669
21/04/2020	0.133765268
16/04/2020	0.128172412
26/02/2020	0.044968457
12/02/2020	0.157071399
28/01/2020	0.109962818
08/11/2019	0.122601349
24/10/2019	0.18053672
10/10/2019	0.2192886
11/09/2019	0.146002886
01/08/2019	0.146159509
24/07/2019	0.161633111
17/05/2019	0.140187872
11/04/2019	0.232307344
15/03/2019	0.181914297
12/02/2019	0.158371057
29/01/2019	0.222648531
09/11/2018	0.135930724
23/10/2018	0.210796049
10/10/2018	0.167516375
12/09/2018	0.154904924
01/08/2018	0.161380327
24/07/2018	0.169344873
18/05/2018	0.156211233
24/04/2018	0.191283128
10/04/2018	0.201112131
09/03/2018	0.177424644
13/02/2018	0.161402692
25/01/2018	0.208074639
10/11/2017	0.180711876
24/10/2017	0.201914253
10/10/2017	0.15615457
08/09/2017	0.15040924
26/07/2017	0.150220674
12/05/2017	0.111753258
25/04/2017	0.178854376
11/04/2017	0.196747677
10/02/2017	0.147972163
26/01/2017	0.144591113
04/11/2016	0.138194071",header = TRUE)


# Convert DATE column to date format
df$DATE <- as.Date(df$DATE, format="%d/%m/%Y")

# Create a sequence of dates on a weekly time frame
all_dates <- seq(from=min(df$DATE), to=max(df$DATE), by="week")

# Create a new data frame with all_dates as the date column
new_df <- data.frame(DATE=all_dates)

# Merge the new data frame with the original data frame
df_merged <- merge(df, new_df, all=TRUE)

# Interpolate missing values
library(zoo)
df_merged$Sentiment_score <- na.approx(df_merged$Sentiment_score)

# Final output data frame
final_df <- df_merged

# Export final data frame as csv for further processing in Python
# write.csv(final_df, "C:\\Users\\Hriday Govind\\Documents\\MSc\\Thesis Final Submission\\Data\\Sentiment_score.csv", row.names = FALSE) # Uncomment if needed